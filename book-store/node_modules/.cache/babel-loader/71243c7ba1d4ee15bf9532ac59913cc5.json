{"ast":null,"code":"import _defineProperty from \"/Users/sebastiangarciaumpierre/Documents/GitHub/GeekText/book-store/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Book1 from '../../images/Book1.jpg';\nimport Book2 from '../../images/Book2.jpg';\nimport Book3 from '../../images/Book3.jpg';\nimport Book4 from '../../images/Book4.jpg';\nimport Book5 from '../../images/Book5.jpg';\nimport Book6 from '../../images/Book6.jpg';\nimport { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING } from '../actions/action-types/cart-actions';\nconst initState = {\n  items: [{\n    id: 1,\n    title: 'Gone With The Wind',\n    desc: \"By Margaret Mitchell\",\n    price: 17.50,\n    img: Book1\n  }, {\n    id: 2,\n    title: 'The Alchemist',\n    desc: \"By Paulo Coelho\",\n    price: 9.50,\n    img: Book2\n  }, {\n    id: 3,\n    title: 'To Kill a Mocking Bird',\n    desc: \"By Harper Lee\",\n    price: 15.00,\n    img: Book3\n  }, {\n    id: 4,\n    title: 'Looking For Alaska',\n    desc: \"By John Green\",\n    price: 10.50,\n    img: Book4\n  }, {\n    id: 5,\n    title: 'The Davinci Code',\n    desc: \"By Dan Brown\",\n    price: 12.00,\n    img: Book5\n  }, {\n    id: 6,\n    title: 'Peter Pan',\n    desc: \"By J.M. Barrie\",\n    price: 6.50,\n    img: Book6\n  }],\n  addedItems: [],\n  total: 0\n};\n\nconst cartReducer = (state = initState, action) => {\n  //Can Convert to a SWITCH statement\n  //INSIDE HOME COMPONENT\n  if (action.type === ADD_TO_CART) {\n    let addedItem = state.items.find(item => item.id === action.id); //check if the action id exists in the addedItems\n\n    let existed_item = state.addedItems.find(item => action.id === item.id);\n\n    if (existed_item) {\n      addedItem.quantity += 1;\n      return _objectSpread({}, state, {\n        total: state.total + addedItem.price\n      });\n    } else {\n      addedItem.quantity = 1; //calculating the total\n\n      let newTotal = state.total + addedItem.price;\n      return _objectSpread({}, state, {\n        addedItems: [...state.addedItems, addedItem],\n        total: newTotal\n      });\n    }\n  }\n\n  if (action.type === REMOVE_ITEM) {\n    let itemToRemove = state.addedItems.find(item => action.id === item.id);\n    let new_items = state.addedItems.filter(item => action.id !== item.id); //calculating the total\n\n    let newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n    console.log(itemToRemove);\n    return _objectSpread({}, state, {\n      addedItems: new_items,\n      total: newTotal\n    });\n  } //INSIDE CART COMPONENT\n\n\n  if (action.type === ADD_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id);\n    addedItem.quantity += 1;\n    let newTotal = state.total + addedItem.price;\n    return _objectSpread({}, state, {\n      total: newTotal\n    });\n  }\n\n  if (action.type === SUB_QUANTITY) {\n    let addedItem = state.items.find(item => item.id === action.id); //if the qt == 0 then it should be removed\n\n    if (addedItem.quantity === 1) {\n      let new_items = state.addedItems.filter(item => item.id !== action.id);\n      let newTotal = state.total - addedItem.price;\n      return _objectSpread({}, state, {\n        addedItems: new_items,\n        total: newTotal\n      });\n    } else {\n      addedItem.quantity -= 1;\n      let newTotal = state.total - addedItem.price;\n      return _objectSpread({}, state, {\n        total: newTotal\n      });\n    }\n  }\n\n  if (action.type === ADD_SHIPPING) {\n    return _objectSpread({}, state, {\n      total: state.total + 5\n    });\n  }\n\n  if (action.type === 'SUB_SHIPPING') {\n    return _objectSpread({}, state, {\n      total: state.total - 5\n    });\n  } else {\n    return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/Users/sebastiangarciaumpierre/Documents/GitHub/GeekText/book-store/src/components/reducers/cartReducer.js"],"names":["Book1","Book2","Book3","Book4","Book5","Book6","ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_SHIPPING","initState","items","id","title","desc","price","img","addedItems","total","cartReducer","state","action","type","addedItem","find","item","existed_item","quantity","newTotal","itemToRemove","new_items","filter","console","log"],"mappings":"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","sourcesContent":["import Book1 from '../../images/Book1.jpg'\nimport Book2 from '../../images/Book2.jpg'\nimport Book3 from '../../images/Book3.jpg'\nimport Book4 from '../../images/Book4.jpg'\nimport Book5 from '../../images/Book5.jpg'\nimport Book6 from '../../images/Book6.jpg'\nimport { ADD_TO_CART,REMOVE_ITEM,SUB_QUANTITY,ADD_QUANTITY,ADD_SHIPPING } from '../actions/action-types/cart-actions'\n\n\nconst initState = {\n    items: [\n        {id:1,title:'Gone With The Wind', desc: \"By Margaret Mitchell\", price:17.50,img: Book1},\n        {id:2,title:'The Alchemist', desc: \"By Paulo Coelho\", price:9.50,img: Book2},\n        {id:3,title:'To Kill a Mocking Bird', desc: \"By Harper Lee\",price:15.00,img: Book3},\n        {id:4,title:'Looking For Alaska', desc: \"By John Green\", price:10.50,img:Book4},\n        {id:5,title:'The Davinci Code', desc: \"By Dan Brown\", price:12.00,img: Book5},\n        {id:6,title:'Peter Pan', desc: \"By J.M. Barrie\",price:6.50,img: Book6}\n    ],\n    addedItems:[],\n    total: 0\n\n}\nconst cartReducer= (state = initState,action)=>{\n    //Can Convert to a SWITCH statement\n    //INSIDE HOME COMPONENT\n    if(action.type === ADD_TO_CART){\n        let addedItem = state.items.find(item=> item.id === action.id)\n        //check if the action id exists in the addedItems\n       let existed_item= state.addedItems.find(item=> action.id === item.id)\n       if(existed_item)\n       {\n          addedItem.quantity += 1 \n           return{\n              ...state,\n               total: state.total + addedItem.price \n            }\n       }\n       else{\n          addedItem.quantity = 1;\n          //calculating the total\n          let newTotal = state.total + addedItem.price \n          \n          return{\n              ...state,\n              addedItems: [...state.addedItems, addedItem],\n              total : newTotal\n          }\n          \n      }\n  }\n  if(action.type === REMOVE_ITEM){\n      let itemToRemove= state.addedItems.find(item=> action.id === item.id)\n      let new_items = state.addedItems.filter(item=> action.id !== item.id)\n      \n      //calculating the total\n      let newTotal = state.total - (itemToRemove.price * itemToRemove.quantity )\n      console.log(itemToRemove)\n      return{\n          ...state,\n          addedItems: new_items,\n          total: newTotal\n      }\n  }\n  //INSIDE CART COMPONENT\n  if(action.type=== ADD_QUANTITY){\n      let addedItem = state.items.find(item=> item.id === action.id)\n        addedItem.quantity += 1 \n        let newTotal = state.total + addedItem.price\n        return{\n            ...state,\n            total: newTotal\n        }\n  }\n  if(action.type=== SUB_QUANTITY){  \n      let addedItem = state.items.find(item=> item.id === action.id) \n      //if the qt == 0 then it should be removed\n      if(addedItem.quantity === 1){\n          let new_items = state.addedItems.filter(item=>item.id !== action.id)\n          let newTotal = state.total - addedItem.price\n          return{\n              ...state,\n              addedItems: new_items,\n              total: newTotal\n          }\n      }\n      else {\n          addedItem.quantity -= 1\n          let newTotal = state.total - addedItem.price\n          return{\n              ...state,\n              total: newTotal\n          }\n      }\n      \n  }\n\n  if(action.type=== ADD_SHIPPING){\n        return{\n            ...state,\n            total: state.total + 5\n        }\n  }\n\n  if(action.type=== 'SUB_SHIPPING'){\n      return{\n          ...state,\n          total: state.total - 5\n      }\n   }\n  \n   else{\n    return state\n  }\n  \n}\n\nexport default cartReducer"]},"metadata":{},"sourceType":"module"}